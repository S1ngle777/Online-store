PRAGMA foreign_keys=OFF;
BEGIN TRANSACTION;
CREATE TABLE IF NOT EXISTS "migrations" ("id" integer primary key autoincrement not null, "migration" varchar not null, "batch" integer not null);
INSERT INTO migrations VALUES(1,'2014_10_12_000000_create_users_table',1);
INSERT INTO migrations VALUES(2,'2014_10_12_100000_create_password_reset_tokens_table',1);
INSERT INTO migrations VALUES(3,'2024_12_03_131517_create_products_table',1);
INSERT INTO migrations VALUES(4,'2024_12_03_131521_create_categories_table',1);
INSERT INTO migrations VALUES(5,'2024_12_03_131523_create_orders_table',1);
INSERT INTO migrations VALUES(6,'2024_12_03_131526_create_order_items_table',1);
INSERT INTO migrations VALUES(7,'2024_12_03_165321_add_role_to_users_table',1);
CREATE TABLE IF NOT EXISTS "users" ("id" integer primary key autoincrement not null, "name" varchar not null, "email" varchar not null, "email_verified_at" datetime, "password" varchar not null, "remember_token" varchar, "created_at" datetime, "updated_at" datetime, "role" varchar check ("role" in ('user', 'admin')) not null default 'user');
INSERT INTO users VALUES(1,'Admin','admin@gmail.com',NULL,'$2y$10$Bbnh/sHHbdjOKhyvyiVObepuYyD36/Rc5R37SEHUv.PAIPIRewzYS','rEflgFYjmEJBQJTH3UrUyuiW6n4pAnrWqOs1cNvDw7gZPywR3b8gTOLZ7x3r','2024-12-04 00:06:53','2024-12-04 00:06:53','admin');
INSERT INTO users VALUES(2,'Nikita','nikita@gmal.com',NULL,'$2y$10$t22vhoB5KBn8cPV/atbqYOlxY5SytBpVgyTJK1YIcrM.igizjSZg6',NULL,'2024-12-04 00:24:19','2024-12-04 00:24:19','user');
CREATE TABLE IF NOT EXISTS "password_reset_tokens" ("email" varchar not null, "token" varchar not null, "created_at" datetime, primary key ("email"));
CREATE TABLE IF NOT EXISTS "failed_jobs" ("id" integer primary key autoincrement not null, "uuid" varchar not null, "connection" text not null, "queue" text not null, "payload" text not null, "exception" text not null, "failed_at" datetime not null default CURRENT_TIMESTAMP);
CREATE TABLE IF NOT EXISTS "personal_access_tokens" ("id" integer primary key autoincrement not null, "tokenable_type" varchar not null, "tokenable_id" integer not null, "name" varchar not null, "token" varchar not null, "abilities" text, "last_used_at" datetime, "expires_at" datetime, "created_at" datetime, "updated_at" datetime);
CREATE TABLE IF NOT EXISTS "products" ("id" integer primary key autoincrement not null, "name" varchar not null, "slug" varchar not null, "description" text not null, "price" numeric not null, "stock" integer not null, "category_id" integer not null, "image" varchar, "created_at" datetime, "updated_at" datetime, foreign key("category_id") references "categories"("id") on delete cascade);
INSERT INTO products VALUES(2,'Брошь "Молдавский узор"','bros-moldavskii-uzor','Handmade брошь с традиционным молдавским орнаментом, выполненная из бисера и металла',350,7,2,'products/PZW3M3Q1oXbv3BeYdJ4SH09Fksb1m6zAVKf3f776.jpg','2024-12-04 15:07:33','2024-12-04 17:41:47');
INSERT INTO products VALUES(3,'Серьги "Виноградная лоза"','sergi-vinogradnaia-loza','Серьги ручной работы в виде виноградной лозы из серебра 925 пробы',450,4,2,'products/bdmIA5BIhSCmoHjLVhXxStvVonpBXjZZ26eaUmyC.jpg','2024-12-04 15:09:29','2024-12-04 17:34:21');
INSERT INTO products VALUES(4,'Скатерть "Молдавское наследие"','skatert-moldavskoe-nasledie','Большая скатерть с традиционной молдавской вышивкой, 150x250 см',1200,3,3,'products/SZz0Vq6QOHv4800ZdL42iXONxoTnywGtXy3xJV26.jpg','2024-12-04 15:11:54','2024-12-04 15:11:54');
INSERT INTO products VALUES(5,'Рушник "Древо жизни"','rusnik-drevo-zizni','Декоративное полотенце с вышитым узором древа жизни',580,8,3,'products/Cbxzg0k1XBkR120vbIAZgbMKBlXwOUZDXJSstvET.jpg','2024-12-04 15:15:39','2024-12-04 15:15:39');
INSERT INTO products VALUES(6,'Кувшин "Молдавский дом"','kuvsin-moldavskii-dom','Керамический кувшин с ручной росписью, изображающей традиционный молдавский дом',890,4,4,'products/NHjXrf8pesDPP3vdF7XW8F7sYSvfDCJ6S9euTLnY.jpg','2024-12-04 15:17:16','2024-12-04 15:17:16');
INSERT INTO products VALUES(7,'Тарелка "Национальные мотивы"','tarelka-nacionalnye-motivy','Декоративная тарелка с традиционным молдавским орнаментом',450,15,4,'products/k28XIEydScjpOhicwugPVZGAiw2C6GsSRWownggU.jpg','2024-12-04 15:21:15','2024-12-04 15:21:15');
INSERT INTO products VALUES(8,'Шкатулка "Молдавские узоры"','skatulka-moldavskie-uzory','Резная деревянная шкатулка с традиционными молдавскими орнаментами',750,6,5,'products/wUejZSlnXBBIwRahdNPZQE6Xh0CGqUl8HQVBrowt.jpg','2024-12-04 15:22:51','2024-12-04 15:22:51');
INSERT INTO products VALUES(9,'Рама "Виноградник"','rama-vinogradnik','Резная деревянная рама для фотографий с мотивами виноградной лозы',420,12,5,'products/6WZYTd1jN2tZUUfRXvPEalmx0voGCPU9pBgkxC91.jpg','2024-12-04 15:26:31','2024-12-04 15:26:31');
INSERT INTO products VALUES(10,'Блузка ручной работы','bluzka-rucnoi-raboty','Традиционная молдавская блузка с ручной вышивкой',2500,3,6,'products/MMFCcFE6BrrwsyTpRINLSnf9D3wAMuuYXwfPx8Jz.jpg','2024-12-04 15:33:29','2024-12-04 15:33:29');
INSERT INTO products VALUES(11,'Магнит "Национальные символы"','magnit-nacionalnye-simvoly','Керамический магнит с изображением национальных молдавских символов',120,50,7,'products/sHP4I9ra1xJByGcaP2wVDrt6P8hyi7zOflBBz3va.jpg','2024-12-04 15:37:21','2024-12-04 15:37:21');
INSERT INTO products VALUES(12,'Брелок "Молдавский герб"','brelok-moldavskii-gerb','Металлический брелок с гравировкой молдавского герба',250,25,7,'products/Q753InBBUy3jciGH8SsZfxGO2btLxLKtp9NBhHDF.jpg','2024-12-04 15:39:13','2024-12-04 15:41:32');
CREATE TABLE IF NOT EXISTS "categories" ("id" integer primary key autoincrement not null, "name" varchar not null, "slug" varchar not null, "description" text, "created_at" datetime, "updated_at" datetime);
INSERT INTO categories VALUES(2,'Традиционные украшения','traditional-jewelry','Украшения ручной работы с традиционными молдавскими мотивами',NULL,NULL);
INSERT INTO categories VALUES(3,'Текстиль и вышивка','textiles-embroidery','Вышитые изделия, скатерти, полотенца и другой текстиль с национальными узорами',NULL,NULL);
INSERT INTO categories VALUES(4,'Керамика','ceramics','Handmade керамические изделия в молдавском стиле',NULL,NULL);
INSERT INTO categories VALUES(5,'Деревянные изделия','wooden-crafts','Резные изделия из дерева с традиционными орнаментами',NULL,NULL);
INSERT INTO categories VALUES(6,'Национальные костюмы','national-costumes','Элементы традиционного молдавского костюма ручной работы',NULL,NULL);
INSERT INTO categories VALUES(7,'Сувениры','souvenirs','Уникальные сувениры с молдавской символикой',NULL,NULL);
CREATE TABLE IF NOT EXISTS "orders" ("id" integer primary key autoincrement not null, "user_id" integer not null, "name" varchar not null, "email" varchar not null, "phone" varchar not null, "address" text not null, "total_amount" numeric not null, "status" varchar check ("status" in ('pending', 'processing', 'completed', 'cancelled')) not null default 'pending', "notes" text, "created_at" datetime, "updated_at" datetime, foreign key("user_id") references "users"("id") on delete cascade);
INSERT INTO orders VALUES(1,1,'Admin','admin@gmail.com','077777777','Chishinau',2540,'processing',NULL,'2024-12-04 16:29:28','2024-12-04 17:01:12');
INSERT INTO orders VALUES(2,2,'Nikita','nikita@gmal.com','07855555','123',350,'pending','Быстро','2024-12-04 16:46:13','2024-12-04 16:46:13');
INSERT INTO orders VALUES(3,1,'Admin','admin@gmail.com','123312','12332',450,'cancelled',NULL,'2024-12-04 17:05:40','2024-12-04 17:34:21');
INSERT INTO orders VALUES(4,2,'Nikita','nikita@gmal.com','123312','123132',1050,'pending',NULL,'2024-12-04 17:41:47','2024-12-04 17:41:47');
CREATE TABLE IF NOT EXISTS "order_items" ("id" integer primary key autoincrement not null, "order_id" integer not null, "product_id" integer not null, "quantity" integer not null, "price" numeric not null, "created_at" datetime, "updated_at" datetime, foreign key("order_id") references "orders"("id") on delete cascade, foreign key("product_id") references "products"("id") on delete cascade);
INSERT INTO order_items VALUES(1,1,3,1,450,'2024-12-04 16:29:28','2024-12-04 16:29:28');
INSERT INTO order_items VALUES(2,1,4,1,1200,'2024-12-04 16:29:28','2024-12-04 16:29:28');
INSERT INTO order_items VALUES(3,1,6,1,890,'2024-12-04 16:29:28','2024-12-04 16:29:28');
INSERT INTO order_items VALUES(4,2,2,1,350,'2024-12-04 16:46:13','2024-12-04 16:46:13');
INSERT INTO order_items VALUES(5,3,3,1,450,'2024-12-04 17:05:40','2024-12-04 17:05:40');
INSERT INTO order_items VALUES(6,4,2,3,350,'2024-12-04 17:41:47','2024-12-04 17:41:47');
INSERT INTO sqlite_sequence VALUES('migrations',9);
INSERT INTO sqlite_sequence VALUES('users',2);
INSERT INTO sqlite_sequence VALUES('categories',7);
INSERT INTO sqlite_sequence VALUES('products',12);
INSERT INTO sqlite_sequence VALUES('orders',4);
INSERT INTO sqlite_sequence VALUES('order_items',6);
CREATE UNIQUE INDEX "users_email_unique" on "users" ("email");
CREATE UNIQUE INDEX "failed_jobs_uuid_unique" on "failed_jobs" ("uuid");
CREATE INDEX "personal_access_tokens_tokenable_type_tokenable_id_index" on "personal_access_tokens" ("tokenable_type", "tokenable_id");
CREATE UNIQUE INDEX "personal_access_tokens_token_unique" on "personal_access_tokens" ("token");
CREATE UNIQUE INDEX "products_slug_unique" on "products" ("slug");
CREATE UNIQUE INDEX "categories_slug_unique" on "categories" ("slug");
COMMIT;
